@{
    var invoice = ViewBag.Invoice as BillingSystem.Contracts.Models.Invoice.Invoice;
    var AddedProducts = ViewBag.Products as IEnumerable<BillingSystem.Contracts.Models.Invoice.UserInvoiceModel>;
}


<div class="row mt-2">
    <div class="col-2 bg-primary pt-1 text-center rounded-2">
        <h3 class="text-white"> <i class="bi bi-receipt-cutoff"></i>&nbsp;Invoice</h3>
    </div>
</div>
<div class="row mt-4">
    <div class="col-md-4">
        <label for="invoieNum">InvoiceNo.</label>
        <input type="number" readonly id="invoieNum" class="form-control bg-dark text-white" value="@invoice.InvoiceNumber" />
    </div>
    <div class="col-md-4">
        <label class="" for="customer">Customer</label>
        <input type="text" id="customer" class="form-control bg-dark text-white" value="@invoice.CustomerName" readonly />
    </div>
    <div class=" col-md-4">
        <label for="tamount">Total Amount</label>
        <input type="number" id="tamount" class="form-control bg-dark text-white" readonly value="@invoice.TotalAmount" />
    </div>
</div>

<div class="row">
    <div class="col-md-4">
        <label for="gtotal">GrandTotal</label>
        <input type="number" readonly id="gtotal" class="form-control bg-dark text-white" value="@invoice.GrandTotal" />
    </div>
    <div class="col-md-4">
        <label class="" for="products">Products</label>
        <input type="number" id="products" class="form-control bg-dark text-white" value="@invoice.Products" readonly />
    </div>
    <div class=" col-md-4">
        <label for="quantity">Total Quantity</label>
        <input type="number" id="quantity" class="form-control bg-dark text-white" readonly value="@invoice.TotalQuantity" />
    </div>
</div>
<div class="row">
    <div class="col-md-4">
        <label for="tax">Tax Applied</label>
        <input type="number" readonly id="tax" class="form-control bg-dark text-white" value="@invoice.Tax" />
    </div>
    <div class="col-md-4">
        <label class="" for="discount">Discount</label>
        <input type="number" id="discount" class="form-control bg-dark text-white" value="@invoice.Discount" readonly />
    </div>
    <div class=" col-md-4">
        <label for="agent">Agent</label>
        <input type="text" id="agent" class="form-control bg-dark text-white" readonly value="@invoice.AgentName" />
    </div>
</div>

<div class="row mt-4">
    <div class="col-2 bg-primary pt-1 text-center rounded-2">
        <h3 class="text-white"> <i class="bi bi-basket"></i>&nbsp;Products</h3>
    </div>
</div>

<div class="row justify-content-center mt-4">
    <table class="table table-responsive table-bordered  table-striped" style="width:100%;border-radius:10px">
        <thead>
            <tr>
                <th>
                    Product Name
                </th>
                <th>
                    Price
                </th>
                <th>
                    Quantity
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var product in AddedProducts)
            {
                <tr>
                    <td>
                        @product.Name
                    </td>
                    <td>
                        @product.Price
                    </td>
                    <td>
                        @product.Quantity
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<div class="w-100 btn-group d-flex justify-content-between gap-3 ">
<button type="submit" id="print-btn" class=" btn btn-primary col-6">Print Invoice</button>
<a class="btn btn-secondary col-6" asp-action="Index">Back To Billing</a>
</div>

<script>
    $(document).ready(function () {
        $('#print-btn').click(function () {
            window.print(); // This will trigger the browser's print dialog
        });
    });
</script>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}